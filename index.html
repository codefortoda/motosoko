<!DOCTYPE html>
<html>

<head>
	<title>街のうつりかわりマップ</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css" integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
	 crossorigin="" />
	<script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js" integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA=="
	 crossorigin=""></script>
	<script src='https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/Leaflet.fullscreen.min.js'></script>
	<link href='https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/leaflet.fullscreen.css' rel='stylesheet' />

	<!-- jquery & jqueryui -->
	<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
	<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
	 crossorigin="anonymous"></script>
	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU="
	 crossorigin="anonymous"></script>

	<style>
		html,
		body {
			height: 100%;
			margin: 0;
		}

		#map {
			width: 600px;
			height: 400px;
		}

		#slider {
			margin: 20px 0;
			width: 600px;
		}
		.ui-slider .ui-slider-handle {
			width: 3em;
		}
	</style>

</head>

<body>
	<h1>街のうつりかわりマップ</h1>
	<div id="map"></div>
	<script>
		var catA = L.layerGroup();
		var catB = L.layerGroup();

		var pointa = L.marker([35.8067, 139.66953]).bindPopup('This is Point A.').addTo(catA),
			pointb = L.marker([35.8077, 139.66963]).bindPopup('This is Point B.').addTo(catB),
			pointc = L.marker([35.8067, 139.67073]).bindPopup('This is Point C.').addTo(catA);

		// URL設定
		var osm = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
			attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
				'<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>'
		});

		var gsi = L.tileLayer('https://cyberjapandata.gsi.go.jp/xyz/std/{z}/{x}/{y}.png', {
			attribution: "<a href='https://maps.gsi.go.jp/development/ichiran.html' target='_blank'>地理院タイル</a>"
		});

		var map = L.map('map', {
			center: [35.80667, 139.66953],
			zoom: 17,
			layers: [osm, gsi]
		});

		var baseLayers = {
			"OpenStreetMap": osm,
			"地理院地図": gsi
		};

		var overlays = {
			"カテゴリA": catA,
			"カテゴリB": catB
		};
		L.control.layers(baseLayers, overlays).addTo(map);
	</script>
	
	<div id="slider">
		<div id="custom-handle" class="ui-slider-handle"></div>
	</div>
	<script>
		$(function () {
			var handle = $("#custom-handle");
			$("#slider").slider({
				value: 2018, 	// 初期値
				min: 1900,		// 最小
				max: 2018,		// 最大
				create: function () {
					handle.text($(this).slider("value"));
				},
				slide: function (event, ui) {
					handle.text(ui.value);
				},
				change: function (event, ui) {
				}
			});
		});
	</script>
</body>

</html>