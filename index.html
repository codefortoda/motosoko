<!DOCTYPE html>
<html>

<head>
	<title>街のうつりかわりマップ</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- leaflet.js -->
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css" integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
	 crossorigin="" />
	<script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js" integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA=="
	 crossorigin=""></script>

	<!-- jquery & jqueryui -->
	<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
	<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
	 crossorigin="anonymous"></script>
	<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU="
	 crossorigin="anonymous"></script>

	<!-- lightbox -->
	<link href="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/css/lightbox.css" rel="stylesheet">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.7.1/js/lightbox.min.js" type="text/javascript"></script>

	<style>
		html,
		body {
			height: 100%;
			margin: 0;
		}

		#map {
			width: 1200px;
			height: 800px;
		}

		#slider {
			margin: 20px 0;
			width: 600px;
		}

		.ui-slider .ui-slider-handle {
			width: 3em;
		}
	</style>

</head>

<body>
	<h1>街のうつりかわりマップ</h1>
	<div id="map"></div>
	<script>
		var catA = L.layerGroup();
		var catB = L.layerGroup();

		var greenIcon = L.icon({
			iconUrl: 'img/000027803.png',

			iconSize: [60, 60], // size of the icon
			iconAnchor: [0, 0], // point of the icon which will correspond to marker's location
			popupAnchor: [-3, -76] // point from which the popup should open relative to the iconAnchor
		});

		// marker定義
		L.marker([35.810628, 139.663530], {
				icon: greenIcon
			}).addTo(catA)
			.bindPopup(
				"<a href='img/戸田町立新曽小学校.jpg'data-lightbox='20171217'title='戸田町立新曽小学校'><img src='img/戸田町立新曽小学校.jpg' width='100%' height='100%' /><a href='img/nizo.jpg'data-lightbox='20171217'title='戸田市立新曽小学校'></a></a><br>戸田市立新曽小学校"
			).openPopup();

		L.marker([35.805836, 139.680565], {
				icon: greenIcon
			}).addTo(catA)
			.bindPopup(
				"<a href='img/戸田南小学校.jpg'data-lightbox='20171217'><img src='img/戸田南小学校.jpg' width='100%' height='100%'title='戸田南小学校' /></a><a href='img/126486_1_462_327_3.jpg' data-lightbox='20171217'title='戸田南小学校'></a></a><br>戸田南小学校"
			).openPopup();

		L.marker([35.812817, 139.676958], {
				icon: greenIcon
			}).addTo(catA)
			.bindPopup(
				"<a href='img/戸田町立第一小学校.jpg'data-lightbox='20171217'title='img/戸田町立第一小学校'><img src='img/戸田町立第一小学校.jpg' width='100%' height='100%' /></a><a href='img/1869427_1_418_276_3.jpg'data-lightbox='20171217'title='戸田市立第一小学校'></a></a><br>戸田町立第一小学校"
			).openPopup();

		// URL設定
		var osm = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
			attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
				'<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>'
		});

		var gsi = L.tileLayer('https://cyberjapandata.gsi.go.jp/xyz/std/{z}/{x}/{y}.png', {
			attribution: "<a href='https://maps.gsi.go.jp/development/ichiran.html' target='_blank'>地理院タイル</a>"
		});

		var map = L.map('map', {
			center: [35.80667, 139.66953],
			zoom: 17,
			layers: [osm, gsi]
		});

		var baseLayers = {
			"OpenStreetMap": osm,
			"地理院地図": gsi
		};

		var overlays = {
			"カテゴリA": catA,
			"カテゴリB": catB
		};
		L.control.layers(baseLayers, overlays).addTo(map);
	</script>

	<div id="slider">
		<div id="custom-handle" class="ui-slider-handle"></div>
	</div>
	<script>
		$(function () {
			var handle = $("#custom-handle");
			$("#slider").slider({
				value: 2018, // 初期値
				min: 1900, // 最小
				max: 2018, // 最大
				create: function () {
					handle.text($(this).slider("value"));
				},
				slide: function (event, ui) {
					handle.text(ui.value);
				},
				change: function (event, ui) {}
			});
		});
	</script>
</body>

</html>